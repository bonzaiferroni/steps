CREATE TABLE IF NOT EXISTS tag (id uuid PRIMARY KEY, user_id uuid NOT NULL, "label" TEXT NOT NULL, updated_at TIMESTAMP NOT NULL, CONSTRAINT fk_tag_user_id__id FOREIGN KEY (user_id) REFERENCES "user"(id) ON DELETE CASCADE ON UPDATE RESTRICT);
CREATE TABLE IF NOT EXISTS step_tag (id uuid PRIMARY KEY, user_id uuid NOT NULL, step_id uuid NOT NULL, tag_id uuid NOT NULL, updated_at TIMESTAMP NOT NULL, CONSTRAINT fk_step_tag_user_id__id FOREIGN KEY (user_id) REFERENCES "user"(id) ON DELETE CASCADE ON UPDATE RESTRICT, CONSTRAINT fk_step_tag_step_id__id FOREIGN KEY (step_id) REFERENCES step(id) ON DELETE CASCADE ON UPDATE RESTRICT, CONSTRAINT fk_step_tag_tag_id__id FOREIGN KEY (tag_id) REFERENCES tag(id) ON DELETE CASCADE ON UPDATE RESTRICT);
